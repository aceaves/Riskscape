[project]
description = Example models to determine buildings in south-east Upolu exposed to inundation, \
    based on data that models the 2009 tsunami

[model total-exposed]
description = Summarizes the total number of exposed buildings
framework = wizard
input-exposures.layer = _2023_CensusPopulationToPoint.shp
input-exposures.geoprocess = false
input-hazards.layer = D:\Riskscape\Projects\Testing\Coastal_Inundation_Depth_2100_50yrARI.tif
sample.hazards-by = CLOSEST
analysis.function = is_exposed
reports.name[0] = summary
report-event-impact.select[0] = *
report-summary.group-by[0] = 'Total' as Results
report-summary.aggregate[0] = count(hazard) as Number_Exposed
report-summary.aggregate[1] = count(exposure) as Total_buildings
report-summary.aggregate[2] = bucket_range(pick: hazard, select: { count(*) }, range: [ 1, 2, 3 ]) as Depth
report-summary.format = csv

[model exposed-by-region]
description = Model that summarizes the exposed elements-at-risk by region
framework = wizard
input-exposures.layer = _2023_CensusPopulationToPoint.shp
input-exposures.geoprocess = false
input-hazards.layer = D:\Riskscape\Projects\Testing\Coastal_Inundation_Depth_2100_50yrARI.tif
input-areas.layer = SurfaceSubcatchments.shp
input-areas.geoprocess = false
sample.hazards-by = CLOSEST
# some buildings are offshore, so match them to the nearest region (up to 1km away)
sample.areas-buffer = 1000
analysis.function = is_exposed
reports.name[0] = summary
report-event-impact.select[0] = *
report-summary.group-by[0] = area.Region as Region
report-summary.aggregate[0] = count(hazard) as Number_Exposed
report-summary.aggregate[1] = count(exposure) as Total_buildings
report-summary.aggregate[2] = bucket_range(pick: hazard, select: { count(*) }, range: [ 1, 2, 3 ]) as Depth
report-summary.sort-by[0][attribute] = Region
report-summary.sort-by[0][direction] = ASC
report-summary.format = csv

[model building-damage]
description = Model that calculates building damage
framework = pipeline
location = building-damage-pipeline.txt

[type damage_states]
type.DS_1 = floating
type.DS_2 = floating
type.DS_3 = floating
type.DS_4 = floating
type.DS_5 = floating

[function Samoa_Building_Fragility]
description = Samoa tsunami fragility functions for buildings
location = Samoa_Building_Fragility.py
argument-types = [building: struct(Cons_Frame: text), hazard: nullable(floating)]
return-type = damage_states
framework = jython

[bookmark BuildingOutlinesProcessed_HB.shp (exposure-layer)]
description = BuildingOutlinesProcessed_HB (Source: Open Street Maps)
location = D:\Riskscape\Projects\Testing\_2023_CensusPopulationToPoint.shp

[bookmark SurfaceSubcatchments.shp (area-layer)]
description = SurfaceSubcatchments (Source: PCRAFI)
location = D:\Riskscape\Projects\Testing\data\SurfaceSubcatchments.shp

[bookmark wMed_2500yr_MHWSplus1p99m_Zone73.tif (hazard-layer)]
description = wMed 100yr MHWS+1.99m Zone73
location = D:\Riskscape\Projects\Testing\Coastal_Inundation_Depth_2020_50yrARI.tif

[bookmark MaxEnv_All_Scenarios_50m.tif (hazard-layer)]
description = compatibility bookmark for older saved model
location = D:\Riskscape\Projects\Testing\\Coastal_Inundation_Depth_2020_50yrARI.tif


